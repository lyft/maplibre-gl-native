name: maplibreglnativeprivate
description: A private fork of the MapLibre library
repository: git@github.com:lyft/maplibre-gl-native-private.git
team_email: mapxp-team@lyft.com
slack: '#mapxp-maplibre-build'
image_type: library
builder:
  name: docker_build
  params:
    dockerfile: lyft-scripts/Dockerfile.cirunner
orchestration:
  roots:
    - name: bootstrap
      directory: ops/terraform/bootstrap
    - name: staging
      directory: ops/terraform/staging
containers:
  - name: buildandroid
    command: ./lyft-scripts/build-android.sh
    limits:
      cpu: 4
      memory: 8Gi
facets:
  - name: buildandroid
    member: maplibreglnative.buildandroid
    type: job
deploy:
  -   - name: build-android
        automatic: true
        environment: staging
        kubernetes:
          enabled: true
        targets:
          - facet: buildandroid
